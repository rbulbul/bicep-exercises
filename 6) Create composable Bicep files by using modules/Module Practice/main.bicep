@description('Username for the virtual machine')
param adminUsername string

@description('Password for the virtual machine')
@minLength(12)
@secure()
param adminPassword string

module virtualNetwork './modules/vnet.bicep' = {
  name: 'virtual-network'
}

module virtualMachine './modules/vm.bicep' = {
  name: 'virtual-machine'
  params: {
    adminUsername: adminUsername
    adminPassword: adminPassword
    subnetResourceId: virtualNetwork.outputs.subnetResourceId
  }
}


